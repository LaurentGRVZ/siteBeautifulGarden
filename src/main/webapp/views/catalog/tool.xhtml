<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:b="http://bootsfaces.net/ui">

    <ui:composition template="/WEB-INF/templates/template.xhtml">
        <ui:define name="title">#{txt['tool']}</ui:define>
        <ui:define name="content">

            <h1 style="text-decoration: underline">#{txt['tool']}</h1>

            <!-- Display item -->

            <b:row style="margin-top: 60px;">
                <b:column>
                    <h:form>
                        <b:dataTable value="#{toolBean.itemCategoryList}" var="item" offset="1" span="10" responsive="true" style="width:100%">

                            <b:dataTableColumn label="#{txt['tab.image']}" width="15%"
                                               style="display: table-cell; vertical-align:middle; text-align:center;">
                                <h:graphicImage value="#{item.item.urlPicture}" width="100%"/>
                            </b:dataTableColumn>
                            <b:dataTableColumn value="#{item.item.brand.label}" width="10%" label="#{txt['tab.brand']}"
                                               style="display: table-cell; vertical-align:middle; text-align:center;"/>
                            <b:dataTableColumn value="#{item.item.designation}" width="40%" label="#{txt['tab.designation']}"
                                               style="display: table-cell; vertical-align:middle; text-align:center;"/>
                            <b:dataTableColumn width="15%" label="#{txt['tab.price']}"
                                               style="display: table-cell; vertical-align:middle; text-align:center;">
                                <h:outputText value="#{item.item.price * item.item.vatRates.rate}" style="font-weight:bold; color:red; font-size:x-large;">
                                    <f:convertNumber currencySymbol="€" type="currency" pattern="###.00€"/>
                                </h:outputText>
                            </b:dataTableColumn>
                            <b:dataTableColumn width="20%" label="#{txt['tab.button']}"
                                               style="display: table-cell; vertical-align:middle; text-align:center;">

                                <b:form>

                                    <b:commandButton look="success" iconAwesome="fa-cart-arrow-down" size="lg" style="border-radius:50%;"
                                                     tooltip="#{txt['button.addBasket']}" tooltipPosition="top" tooltipDelay="5"
                                                     action="#{detailedViewBean.displayDetailedView(item.item.id)}" ajax="true"/>
                                    <b:commandButton look="primary" iconAwesome="fa-search-plus" size="lg" style="border-radius:50%; margin-left: 20px;"
                                                     tooltip="#{txt['button.detailedView']}" tooltipPosition="top" tooltipDelay="5"
                                                     action="#{detailedViewBean.displayDetailedView(item.item.id)}" ajax="true"/>

                                </b:form>

                            </b:dataTableColumn>

                        </b:dataTable>
                    </h:form>
                </b:column>
            </b:row>

            <!-- Return link -->

            <b:row style="margin: 50px auto 100px">
                <b:column span="3" offset="9">
                    <b:navLink outcome="index" value="#{txt['linkReturnHome']}"/>
                </b:column>
            </b:row>

        </ui:define>
    </ui:composition>

</ui:fragment>
